\documentclass[DM,lsstdraft,STS,toc]{lsstdoc}
\usepackage{enumitem}
\usepackage{booktabs}
\usepackage{arydshln}

\input meta.tex

\setcounter{tocdepth}{2}
\begin{document}

\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}

\def\product{LSST Data Management}

\setDocCompact{true}

\title[Test Spec for \product]{\product~Acceptance Test Specification}

\author{L.P.~Guy, W.M.~Wood-Vasey, E.~Bellm, J.F.~Bosch,
G.P.~Dubois-Felsmann,  M.L.~Graham, R.~Gruendl,
K.S.~Krughoff, K.-T.~Lim, R.H.~Lupton, C.~Slater, G.~Comoretto}
\setDocRef{\lsstDocType-\lsstDocNum}
\setDocDate{\vcsdate}

\setDocAbstract {
This document describes the detailed acceptance test specification for the \product{} System.
}

% Most recent last
\setDocChangeRecord{%
	\addtohist{1.0}{2019-02-07}{Document first approved release. Approved on \jira{RFC-495}.}{L.~Guy}
}

\setDocCurator{Leanne Guy}
\setDocUpstreamLocation{\url{https://github.com/lsst/ldm-639}}
\setDocUpstreamVersion{\vcsrevision}

\maketitle

\section{Introduction}
\label{sec:intro}

This document is intended to specify the acceptance test procedures for the \product{} System.  It is a work in progress; the
current version provides Test Cases covering $\sim35$\% of the requirements. It does not yet provide full Test Plans for comprehensive testing
nor identify the fraction of each requirement covered by the existing Test Cases.

This document will be updated as work continues on completing Test Cases, Test Plans, and requirements coverage.

\subsection{Objectives}
\label{sec:objectives}

This document describes the test cases required to validate the Data Management System requirements
described in the LSST DM Subsystem Requirements document \citeds{LSE-61}.
It identifies test cases and procedures for the tests as well as the pass/fail criteria for each test.

A full description of the \product{} System is provided in the Data Management System Design document, \citeds{LDM-148} with
the science requirements  detailed in  the LSST Science Requirements Document \citeds{LPM-17}.
% and \citeds{LSE-30}

\subsection{Scope}
\label{sec:scope}

This document provides the acceptance test plan for the whole Data Management System (DMS), as described
by the Data Management System Requirements in \citeds{LSE-61}.

\subsection{Applicable Documents}
\label{sec:docs}

\addtocounter{table}{-1}

\begin{tabular}[htb]{l l}
\citeds{LPM-17} & LSST Science Requirements Document \\
\citeds{LDM-148} & LSST Data Management System Design \\
\citeds{LDM-294} & LSST DM Organization \& Management \\
% This document will be merged to LDM-61
% \citeds{LDM-502} & The Measurement and Verification of DM Key Performance Metrics \\
\citeds{LDM-503} & LSST DM Test Plan \\
\citeds{LSE-61}  & LSST DM Subsystem Requirements \\
\citeds{LSE-163} & LSST Data Products Definition Document \\
\citeds{LDM-151} & LSST DM Science Pipelines Design \\
\citeds{LSE-180} & Level 2 Photometric Calibration for the LSST Survey \\
\citeds{LSE-30} & LSST Observatory System Specifications \\
\end{tabular}

\subsection{References\label{sect:references}}
\renewcommand{\refname}{}
\bibliography{lsst,refs,books,refs_ads}

\subsection{Acronyms \label{sect:acronyms}} % include acronyms.tex generated by the generateAcronyms.py (in texmf/scripts)
\input{acronyms}


%----------------------------------------------------
% TASK IDENTIFICATION - APPROACH
%----------------------------------------------------
\section{Approach}
\label{sec:approach}

This document describes the acceptance tests for the integrated Data Management System,
with a focus on whether the data products and functionality provided satisfy the requirements described in \citeds{LSE-61}.

The requirements from \citeds{LSE-61} are extracted into the Jira "LSST Verification and Validation'' Project, managed through the Jira Test Management Plugin system.  Each LSE-61 requirement leads to a "LSST Verification and Validation" (LVV) Element.  Each LVV Element comprises one or more more
Test Cases.  Each Test Case describes a Test Script to be executed, the coverage, pre-conditions, configuration, test results, and other details as specified by \citeds{LDM-503}. Test Scripts may have common set up and analysis steps.  The Jira system allows for these steps to be shared by other Test Scripts.  This improves clarity and consistency across all Test Cases.

In this document, each Test Case is listed here with the LVV Element it tests, a summary of the Test Items exercised by the Test Case, and the detailed steps to be executed by the Test Case.  Shared steps between Test Scripts have been explicitly written out to appear fully in each Test Case.

\subsection{Features to be tested}
\label{sec:feat2test}

All top-level requirements for the LSST Data Management System described in \citeds{LSE-61} are to be tested, including
\begin{itemize}
\item Data Products
\item Alert, Calibration and Data Release Production
\item LSST science pipeline software and middleware
\item LSST facilities including the data archive, base, summit, and the communications between them to accept science and engineering data
\end{itemize}


\subsection{Features not to be tested}
\label{sec:featnot2test}

This document does not describe facilities for periodically generating or collecting key performance metrics (KPMs),
except insofar as those KPMs are incidentally measured as part of executing the documented test cases.

\subsection{Pass/fail criteria}
\label{sec:passfail}

The results of all tests will be assessed using the criteria described in
\citeds{LDM-503} \S4.

Note that when executing pipelines, tasks, or individual algorithms, any unexplained or unexpected errors or warnings
appearing in the associated log or on screen output must be described in the documentation for the system under test.
Any warning or error for which this is not the case must be filed as a software problem report and filed with the DMCCB.

\subsection{Suspension criteria and resumption requirements}
\label{suspension}

Refer to individual test cases where applicable.

\subsection{Naming convention}

\begin{description}
  \item[LVV]{: Is the label for the ``LSST Verification and Validation'' project in Jira.}
  \item[LVV-XXX]{: Are Verification Elements, where XXX is the Verification Element identifier.  Each Verification Element has at least one Test Case. }
  \item[LVV-TYYY]{: Are Test Cases. Each Test Case is associated with a Verification Element, where YYY is the Test Case identifier.}
\end{description}

The Verification Elements are drawn from \citeds{LSE-61} requirements which have names of the form DMS-REQ-ZZZZ.

%%% Here include the auto-extracted Test Cases:

\newpage
\input{jira_docugen.tex}

\newpage
\appendix
\input{jira_docugen.appendix.tex}

\end{document}
